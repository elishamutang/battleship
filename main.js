(()=>{"use strict";class e{constructor(e){this.length=e,this.hitsTaken=0,this.sunk=!1,this.typeOfShip=this.shipType(),this.location=[],this.boundary=[]}hit(){this.hitsTaken+=1,this.hitsTaken===this.length&&this.isSunk()}isSunk(){this.sunk=!0}shipType(){switch(this.length){case 1:return"patrolBoat";case 2:return"destroyer";case 3:return"battleShip";case 4:return"carrier"}}}class t{constructor(){this.board=this.#e(),this.ships=[],this.areAllShipsSunked=!1}#e(){return Array(10).fill(0).map((e=>Array(10).fill(0)))}placeShip(e,t,a){let[o,r]=t,s=r+e.length,n=o+e.length,l=[];if(a)if(console.log("vertical"),n>10)for(let t=0;t<e.length;t++)l.push([o-t,r]);else for(let t=0;t<e.length;t++)l.push([o+t,r]);else if(s>10)for(let t=0;t<e.length;t++)l.push([o,r-t]);else for(let t=0;t<e.length;t++)l.push([o,r+t]);const c=()=>Math.floor(10*Math.random());if(l.map((e=>{let t=e[0],a=e[1];return"number"==typeof this.board[t][a]?this.board[t][a]:parseInt(this.board[t][a].split("")[0])})).every((e=>!isNaN(e))))if(e.boundary=[],this.#t(e,l),e.location=l,e.location.sort(),this.#a(e))e.location.forEach((t=>{let a=t[0],o=t[1];this.board[a][o]=e.typeOfShip.split("")[0]})),this.ships.push(e);else{console.log(`${e.typeOfShip} at ${e.location[0]} is within boundary of other ships`);const t=[c(),c()];this.placeShip(e,t)}else{console.log(`${e.typeOfShip} at ${t} overlaps with other ships`);const a=[c(),c()];console.log(`Relocating to ${a}`),this.placeShip(e,a),this.flip(e)}}removeShip(e){e.location.forEach((e=>{const t=e[0],a=e[1];this.board[t][a]=0}));const t=this.ships.findIndex((t=>t===e));this.ships.splice(t,1)}#t(e,t){for(let a=0;a<t.length;a++){let o=t[a][0],r=t[a][1];e.boundary.push([o-1,r]),e.boundary.push([o-1,r+1]),e.boundary.push([o,r+1]),e.boundary.push([o+1,r+1]),e.boundary.push([o+1,r]),e.boundary.push([o+1,r-1]),e.boundary.push([o,r-1]),e.boundary.push([o-1,r-1])}e.boundary=e.boundary.filter((e=>{if(e[0]>=0&&e[1]>=0&&e[0]<10&&e[1]<10)return e})),console.log(`Generating ship boundary for ${e.typeOfShip} at ${t[0]}`);for(let a=0;a<e.boundary.length;a++){let o=e.boundary[a][0],r=e.boundary[a][1];for(let s=0;s<t.length;s++){let n=t[s][0],l=t[s][1];o===n&&r===l&&e.boundary.splice(a,1)}}e.boundary=function(e){let t={},a=[];for(let o=0;o<e.length;o++)e[o]in t||(a.push(e[o]),t[e[o]]=!0);return a}(e.boundary)}#a(e){const t=[];for(let a of e.boundary){let e=a[0],o=a[1];t.push(this.board[e][o])}return e.boundary.map((e=>{let t=e[0],a=e[1];return"number"==typeof this.board[t][a]?this.board[t][a]:parseInt(this.board[t][a].split("")[0])})).every((e=>!isNaN(e)))}#o(e,t){const[a]=this.ships.filter((a=>{for(let o of a.location)if(o[0]===e&&o[1]===t)return a}));return a}receiveAttack(e){const t=parseInt(e[0]),a=parseInt(e[1]),o=this.#o(t,a);o&&o.location.forEach((e=>{let r=e[0],s=e[1];r===t&&s===a&&(o.sunk||(o.hitsTaken+=1),o.hitsTaken===o.length&&(o.sunk=!0))})),this.board[t][a]="X";const r=this.ships.filter((e=>{if(e.sunk)return e}));r.length===this.ships.length&&(this.areAllShipsSunked=!0)}flip(e){let t=this.#e();if(e.location.length>1){let[a,o]=e.location[0],[r,s]=e.location[1],n=[];if(s!==o)if(a+e.length>10)for(let t=1;t<e.length;t++)n.push([a-t,o]);else for(let t=1;t<e.length;t++)n.push([a+t,o]);if(r!==a)if(o+e.length>10)for(let t=1;t<e.length;t++)n.push([a,o-t]);else for(let t=1;t<e.length;t++)n.push([a,o+t]);const l=n.map((e=>{let t=e[0],a=e[1];return"number"==typeof this.board[t][a]?this.board[t][a]:parseInt(this.board[t][a].split("")[0])})).every((e=>!isNaN(e)));n.unshift(...e.location.slice(0,1)),e.location.forEach((e=>{let a=e[0],o=e[1];this.board[a][o]=t[a][o]}));const c=e.boundary;return e.boundary=[],this.#t(e,n),l&&this.#a(e)?(e.location=n,e.location.forEach((t=>{let a=t[0],o=t[1];this.board[a][o]=e.typeOfShip.split("")[0]}))):(e.boundary=c,e.location.forEach((t=>{let a=t[0],o=t[1];this.board[a][o]=e.typeOfShip.split("")[0]}))),e.location[e.location.length-1]}}reset(){this.board=this.#e(),this.ships=[],this.areAllShipsSunked=!1}}class a{constructor(){this.gameboard=new t}}function o(e,t){const a=document.getElementById("realPlayer"),o=document.getElementById("computerPlayer");o.className="gameboard gameover",a.className="gameboard gameover";const r=t.gameboard.areAllShipsSunked?"You":"ChadGPZ",s=document.getElementById("banner"),n=s.cloneNode(!0),l=document.createElement("h1");l.id="announcement",l.textContent=`${r} won!`,s.innerHTML="",s.className="endGame",s.append(l);const c=document.createElement("button");c.id="restartBtn",c.textContent="Re-match?",s.append(c),c.addEventListener("click",(r=>{e.gameboard.reset(),t.gameboard.reset(),document.getElementById("banner").remove(),document.querySelector("main").insertAdjacentElement("afterbegin",n),a.className="gameboard",o.className="gameboard";const s=Array.from(a.children),l=Array.from(o.children);for(let e=1;e<s.length;e++)s[e].remove(),l[e].remove();q()}))}const r=document.getElementById("realPlayer"),s=document.getElementById("computerPlayer");function n(e,t){document.querySelector("main").className="start",r.removeEventListener("mouseover",I),r.removeEventListener("click",D),Array.from(r.getElementsByClassName("shipDiv")).forEach((e=>{e.remove()})),C(e,r),Array.from(r.getElementsByClassName("loc")).forEach((e=>{e.className=e.className+" no-pointer"})),s.style.display="flex",T(e,t).computerPlayerShips(),C(t,s),Array.from(s.getElementsByClassName("shipDiv")).forEach((e=>{e.style.display="none"})),document.querySelector(".tipDiv").remove();const a=Array.from(document.getElementsByClassName("boardUI")),n=Array.from(document.getElementsByClassName("shipCount"));a.forEach((e=>{e.style.border="none"})),n.forEach((e=>{e.style.border="none",e.style.padding="0.8rem 0"})),r.className=r.className+" move";const c=r.querySelector(".row"),i=document.createElement("div");i.className="overlay";const p=document.createElement("p");p.className="overlayText",p.innerHTML="It's <span>your move</span> , click on any tile on your opponent's board.",i.append(p),c.insertAdjacentElement("afterbegin",i),function(e,t){s.addEventListener("click",(function(a){if(a.target.dataset.row&&a.target.dataset.col&&!a.target.className.includes("clicked")){a.target.textContent=String.fromCharCode(9679);const n=parseInt(a.target.dataset.row),c=parseInt(a.target.dataset.col);a.target.className+=" clicked",null!==r.querySelector(".overlay")&&r.querySelector(".overlay").remove(),0!==e.gameboard.board[n][c]?(l(e,s,n,c),h()):(r.className="gameboard",s.className=s.className+" move",setTimeout((()=>{d(t,e)}),1500)),e.gameboard.areAllShipsSunked&&o(t,e)}}))}(t,e)}function l(e,t,a,o){const r=t.querySelector(`[data-row='${a}'][data-col='${o}']`);e.gameboard.receiveAttack([a,o]),r.textContent=e.gameboard.board[a][o];const s=Array.from(r.classList),[n]=e.gameboard.ships.filter((e=>{if(s.includes(e.typeOfShip))return e})).filter((e=>{for(let t=0;t<e.location.length;t++)if(e.location[t][0]===a&&e.location[t][1]===o)return e}));console.log(n);const l=e=>{e.forEach((e=>{let a=e[0],o=e[1],r=t.querySelector(`[data-row='${a}'][data-col='${o}']`);r.textContent="X",r.className.includes("clicked")||r.classList.add("clicked")}))};if(n.sunk){const e=Array.from(t.getElementsByClassName(`${n.typeOfShip}Icon`));(()=>{const[t]=e.filter((e=>{if(!e.className.includes("sunk"))return e})).toSpliced(1);return t})().classList.add("sunk"),l(n.boundary)}else l((()=>{let e=[];return e.push([a-1,o-1]),e.push([a+1,o-1]),e.push([a-1,o+1]),e.push([a+1,o+1]),e=e.filter((e=>{let t=e[0],a=e[1];if(t<=9&&a<=9&&t>=0&&a>=0)return e})),e})())}function c(e){const t=parseInt(e.dataset.row),a=parseInt(e.dataset.col);let o=[];return o.push([t,a-1]),o.push([t-1,a]),o.push([t+1,a]),o.push([t,a+1]),o=o.filter((e=>{let t=e[0],a=e[1];if(t<=9&&a<=9&&t>=0&&a>=0)return e})),o}let i;function d(e,t,a,s){if(e.gameboard.areAllShipsSunked)return console.log("end game"),void o(e,t);const n=()=>Math.floor(10*Math.random());let p,[u,m]=[n(),n()],f=r.querySelector(`[data-row='${u}'][data-col='${m}']`);if(a&&!s.sunk){const e=()=>{let e=a;const t=Math.floor(Math.random()*e.length),[o]=e.splice(t,1);return o};let t=e();if([u,m]=t,console.log(`Next adj: ${u}, ${m}`),f=r.querySelector(`[data-row='${u}'][data-col='${m}']`),p=s.hitsTaken/s.length*100,p>50){const e=s.location.filter((e=>{let t=e[0],a=e[1];if(!r.querySelector(`[data-row='${t}'][data-col='${a}']`).className.includes("clicked"))return e}));t=(()=>{const t=Math.floor(Math.random()*e.length),[a]=e.splice(t,1);return a})(),[u,m]=t,console.log(`Going to remaining loc: ${u}, ${m}`),f=r.querySelector(`[data-row='${u}'][data-col='${m}']`)}else{let o;const n=a=>{if(a.className.includes("clicked")){if(t=e(),console.log(t),!t)return!1;[u,m]=t,console.log(`Re-locating to: ${u}, ${m}`),(a=r.querySelector(`[data-row='${u}'][data-col='${m}']`)).className.includes(s.typeOfShip)&&(o=t),n(a)}};if(!n(f)&&o){console.log(f),console.log(`Base tile: ${o}`),f=r.querySelector(`[data-row='${o[0]}'][data-col='${o[1]}']`);const e=c(f);n(f,e)}console.log(`shipAdjTiles length: ${a.length}`)}}else for(;f.className.includes("clicked");)[u,m]=[n(),n()],f=r.querySelector(`[data-row='${u}'][data-col='${m}']`);if(i!==s&&!i.sunk){const[e]=i.location.filter((e=>{let t=e[0],a=e[1];if(r.querySelector(`[data-row='${t}'][data-col='${a}']`).className.includes("clicked"))return e})),t=c(r.querySelector(`[data-row='${e[0]}'][data-col='${e[1]}']`)),a=()=>{const e=Math.floor(Math.random()*t.length),[a]=t.splice(e,1);return a};let o=a();for([u,m]=o,console.log(`Last ship not sunk, go back to ship and try adjacent tile: ${u},${m}`),f=r.querySelector(`[data-row='${u}'][data-col='${m}']`);f.className.includes("clicked");)o=a(),[u,m]=o,f=r.querySelector(`[data-row='${u}'][data-col='${m}']`)}if(console.log(f),f.className=f.className+" clicked",f.textContent=String.fromCharCode(9679),0!==e.gameboard.board[u][m]){let a,[o]=e.gameboard.ships.filter((e=>{if(f.className.includes(e.typeOfShip))return e})).filter((e=>{for(let t=0;t<e.location.length;t++)if(u===e.location[t][0]&&m===e.location[t][1])return e}));i&&!i.sunk||(i=o),"p"!==e.gameboard.board[u][m]&&(a=c(f)),l(e,r,u,m),console.log(`Hit recorded at ${u}, ${m}`),setTimeout((()=>{d(e,t,a,o)}),1500)}else setTimeout((()=>{h()}),1e3)}function h(){r.className.includes("move")||(r.className=r.className+" move"),s.className="gameboard"}const p=document.getElementById("realPlayer");let u,m;function f(e,t){Array.from(p.getElementsByClassName("no-path")).forEach((e=>{e.classList.remove("no-path")}));const a=e.target.dataset.row?parseInt(e.target.dataset.row):parseInt(e.target.parentNode.dataset.row),o=e.target.dataset.col?parseInt(e.target.dataset.col):parseInt(e.target.parentNode.dataset.col),r=[];if("horizontal"===m)for(let e=0;e<u;e++){const t=p.querySelector(`[data-row='${a}'][data-col='${o+e}']`);r.push(t)}else for(let e=0;e<u;e++){const t=p.querySelector(`[data-row='${a+e}'][data-col='${o}']`);r.push(t)}if(u>1){if(!y(a,o,m))return;g(a,o,m)||r.forEach((e=>{e.classList.add("no-path")})),r.forEach((e=>{e.classList.contains("noDrop")?r[0].classList.remove("drop-here"):e.classList.add("drop-here")}))}else r[0].classList.add("drop-here");t&&r&&r.forEach((e=>{e.classList.remove("drop-here")}))}function g(e,t,a){if("horizontal"===a){for(let a=0;a<u;a++)if(p.querySelector(`[data-row='${e}'][data-col='${t+a}']`).classList.contains("noDrop"))return!1}else for(let a=0;a<u;a++)if(p.querySelector(`[data-row='${e+a}'][data-col='${t}']`).classList.contains("noDrop"))return!1;return!0}function y(e,t,a){let o=[];if("horizontal"===a)for(let a=1;a<u;a++){if(t+a>9)return!1;o.push([e,t+a])}else for(let a=1;a<u;a++){if(e+a>9)return!1;o.push([e+a,t])}return o.unshift([e,t]),o}function b(e){!function(e){e.gameboard.ships.forEach((e=>{const t=p.querySelector(`[data-row='${e.location[0][0]}'][data-col='${e.location[0][1]}']`),a=document.createElement("div");if(a.className=`loc ${e.typeOfShip} shipDiv`,0===t.children.length&&t.append(a),e.length>1){const o=p.querySelector(`[data-row='${e.location[1][0]}'][data-col='${e.location[1][1]}']`);9===e.location[0][0]&&t.firstChild.classList.add("last-row"),t.dataset.row<o.dataset.row?(a.classList.contains("horizontal")&&a.classList.remove("horizontal"),a.classList.add("vertical")):t.dataset.row>o.dataset.row&&(a.classList.add("vertical"),a.classList.add("last-row")),t.dataset.col<o.dataset.col&&(a.classList.contains("vertical")&&a.classList.remove("vertical"),a.classList.add("horizontal"))}}))}(e);Array.from(p.getElementsByClassName("shipDiv")).forEach((t=>{t.setAttribute("draggable","true"),t.addEventListener("dragstart",(t=>{E(t,e)})),t.addEventListener("dragend",(t=>{$(t,e)}))}))}function v(e,t){const a=parseInt(t.dataset.row),o=parseInt(t.dataset.col),[r]=Array.from(t.firstChild.classList).filter((e=>{if("patrolBoat"===e||"battleShip"===e||"destroyer"===e||"carrier"===e)return e})),s=e.gameboard.ships.filter((e=>{if(e.typeOfShip===r)return e}));for(let e=0;e<s.length;e++)for(let t=0;t<s[e].location.length;t++){const r=s[e].location[t][0],n=s[e].location[t][1];if(a===r&&o===n)return s[e]}}function S(e,t){if(t){const[a,o]=t,r=v(e,p.querySelector(`[data-row='${a}'][data-col='${o}']`));e.gameboard.ships.forEach((e=>{e!==r&&(e.boundary.forEach((e=>{const t=e[0],a=e[1];p.querySelector(`[data-row='${t}'][data-col='${a}']`).classList.add("noDrop")})),e.location.forEach((e=>{const t=e[0],a=e[1];p.querySelector(`[data-row='${t}'][data-col='${a}']`).classList.add("noDrop")})))}))}else e.gameboard.ships.forEach((e=>{e.boundary.forEach((e=>{const t=e[0],a=e[1],o=p.querySelector(`[data-row='${t}'][data-col='${a}']`);o.classList.contains("noDrop")&&o.classList.remove("noDrop")})),e.location.forEach((e=>{const t=e[0],a=e[1],o=p.querySelector(`[data-row='${t}'][data-col='${a}']`);o.classList.contains("noDrop")&&o.classList.remove("noDrop")}))}))}function E(e,t){const a=parseInt(e.target.parentNode.dataset.row),o=parseInt(e.target.parentNode.dataset.col);e.dataTransfer.setData("shipRow",a),e.dataTransfer.setData("shipCol",o),e.dataTransfer.setData("className",e.target.className);const r=p.querySelector(`[data-row='${a}'][data-col='${o}']`),s=v(t,r);u=s.length,m=r.firstChild.classList.contains("horizontal")?"horizontal":"vertical",e.dataTransfer.effectAllowed="move",S(t,[a,o])}function $(e,t){e.preventDefault(),e.stopPropagation(),S(t)}const N=new a,w=new a,L=document.getElementById("realPlayer"),k=document.getElementById("computerPlayer");function q(){document.querySelector("main").className="prep",k.style.display="none",A(N,L),A(w,k),T(N,w).realPlayerShips(),L.addEventListener("click",D);const t=()=>{const e=document.createElement("div");return e.className="boardUI",e},a=t(),o=t();L.insertAdjacentElement("beforeend",a),k.insertAdjacentElement("beforeend",o),P(L),P(k);const r=document.createElement("div");r.className="tipDiv";const s=document.createElement("p");s.textContent="Drag and drop the ships, or go random. Ready? Let's start!",r.append(s),L.querySelector(".boardUI").append(r);const l=document.createElement("div");l.id="buttonsContainer",r.append(l);const c=document.createElement("button");c.className="randomiseBtn",c.innerHTML='<i class="gg-sync"></i>',l.append(c),c.addEventListener("click",(e=>{N.gameboard.reset(),N.gameboard.ships.forEach((e=>{e.location.forEach((e=>{let t=e[0],a=e[1];document.querySelector(`[data-row='${t}'][data-col='${a}']`).removeEventListener("mouseleave",B)}))})),T(N,w).realPlayerShips(),Array.from(L.getElementsByClassName("shipDiv")).forEach((e=>{e.remove()})),b(N)})),L.addEventListener("mouseover",I);const i=document.createElement("button");i.className="startBtn",i.textContent="Start",l.append(i),function(t){const a=Array.from(p.getElementsByClassName("loc"));b(t),a.forEach((a=>{1===a.classList.length&&a.classList.contains("loc")&&(a.addEventListener("dragenter",(e=>{e.preventDefault(),e.stopPropagation(),f(e)})),a.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation(),f(e)})),a.addEventListener("dragleave",(e=>{e.preventDefault(),e.stopPropagation(),f(e,!0)})),a.addEventListener("drop",(a=>{a.preventDefault(),a.stopPropagation(),f(a,!0);const o=parseInt(a.dataTransfer.getData("shipRow")),r=parseInt(a.dataTransfer.getData("shipCol")),s=a.dataTransfer.getData("className");console.log(`Ship from ${o}, ${r}`);const n=p.querySelector(`[data-row='${o}'][data-col='${r}']`),l=v(t,n),c=parseInt(a.target.dataset.row),i=parseInt(a.target.dataset.col);if(isNaN(c)&&isNaN(i))return;const d=s.substr(s.search("horizontal"));y(c,i,d)&&g(c,i,d)&&function(t,a,o,r){const[s,n]=o;console.log(`Ship moved to ${o}`);const l=new e(a.length);t.gameboard.removeShip(a),r.includes("vertical")?t.gameboard.placeShip(l,[s,n],"vertical"):t.gameboard.placeShip(l,[s,n]);const c=p.querySelector(`[data-row='${s}'][data-col='${n}']`),i=document.createElement("div");i.className=r,i.setAttribute("draggable","true"),9===s?i.classList.add("last-row"):9!==s&&i.classList.contains("last-row")&&i.classList.remove("last-row"),i.addEventListener("dragstart",(e=>{E(e,t)})),i.addEventListener("dragend",(e=>{$(e,t)})),c.append(i);const d=a.location[0][0],h=a.location[0][1],u=p.querySelector(`[data-row='${d}'][data-col='${h}']`);u.firstChild.remove(),c!==u&&(u.classList.remove("hover"),u.removeAttribute("draggable"))}(t,l,[c,i],s)})))}))}(N),i.addEventListener("click",(()=>{n(N,w)}),{once:!0})}function I(e){const t=Array.from(e.target.classList);if((()=>{if(t.includes("carrier")||t.includes("battleShip")||t.includes("patrolBoat")||t.includes("destroyer"))return!0})()){const a=t[1],o=parseInt(e.target.dataset.row),r=parseInt(e.target.dataset.col),[s]=N.gameboard.ships.filter((e=>{if(e.typeOfShip===a)return e})).filter((e=>{for(let t=0;t<e.location.length;t++)if(e.location[t][0]===o&&e.location[t][1]===r)return e}));s&&s.location.forEach((e=>{const t=e[0],a=e[1];document.querySelector(`[data-row='${t}'][data-col='${a}']`).classList.add("hover"),document.querySelector(`[data-row='${t}'][data-col='${a}']`).addEventListener("mouseleave",B,{once:!0})}))}}function B(){N.gameboard.ships.forEach((e=>{e.location.forEach((e=>{const t=e[0],a=e[1];document.querySelector(`[data-row='${t}'][data-col='${a}']`).classList.remove("hover")}))}))}function A(e,t){e.gameboard.board.forEach((e=>{const a=document.createElement("div");a.className="row",t.append(a),e.forEach((()=>{const e=document.createElement("div");e.className="loc",a.append(e)}))})),Array.from(t.getElementsByClassName("row")).forEach(((e,t)=>{Array.from(e.children).forEach(((e,a)=>{e.dataset.row=`${t}`,e.dataset.col=a}))}))}function C(e,t){const a=Array.from(t.getElementsByClassName("row"));e.gameboard.board.forEach(((e,t)=>{e.forEach(((e,o)=>{a[t].children[o].className="p"===e?"loc patrolBoat":"d"===e?"loc destroyer":"c"===e?"loc carrier":"b"===e?"loc battleShip":"loc"}))}))}function D(e){if(e.target.parentNode.dataset.row&&e.target.parentNode.dataset.col){const t=parseInt(e.target.parentNode.dataset.row),a=parseInt(e.target.parentNode.dataset.col),[o]=Array.from(e.target.classList).filter((e=>{if("loc"!==e)return e}));o&&Array.from(N.gameboard.ships).filter((e=>{if(e.typeOfShip===o)return e})).forEach((e=>{e.location.forEach((o=>{const r=o[0],s=o[1];if(r===t&&s===a){const t=e.location;N.gameboard.flip(e);for(let a=1;a<t.length;a++){const o=document.querySelector(`[data-row='${t[a][0]}'][data-col='${t[a][1]}']`),r=e.location[0],s=document.querySelector(`[data-row='${r[0]}'][data-col='${r[1]}']`).querySelector(".shipDiv");(r[0]<e.location[a][0]||r[0]>e.location[a][0])&&(console.log("Horizontal to vertical ship"),s.classList.contains("horizontal")&&s.classList.remove("horizontal"),s.classList.add("vertical")),r[1]<e.location[a][1]&&(console.log("Vertical to horizonal ship"),s.classList.contains("vertical")&&s.classList.remove("vertical"),s.classList.add("horizontal")),o.className="loc"}}}))}))}}function T(t,a){const o=()=>Math.floor(10*Math.random());return{realPlayerShips:()=>{const a=[];for(let t=0;t<4;t++)a.push(new e(1));const r=[];for(let t=0;t<3;t++)r.push(new e(2));const s=[];for(let t=0;t<2;t++)s.push(new e(3));const n=[new e(4)];t.gameboard.placeShip(n.shift(),[o(),o()]),s.forEach((e=>{t.gameboard.placeShip(e,[o(),o()])})),r.forEach((e=>{t.gameboard.placeShip(e,[o(),o()])})),a.forEach((e=>{t.gameboard.placeShip(e,[o(),o()])}))},computerPlayerShips:()=>{const t=[];for(let a=0;a<4;a++)t.push(new e(1));const r=[];for(let t=0;t<3;t++)r.push(new e(2));const s=[];for(let t=0;t<2;t++)s.push(new e(3));const n=[new e(4)];a.gameboard.placeShip(n.shift(),[o(),o()]),s.forEach((e=>{a.gameboard.placeShip(e,[o(),o()])})),r.forEach((e=>{a.gameboard.placeShip(e,[o(),o()])})),t.forEach((e=>{a.gameboard.placeShip(e,[o(),o()])}))}}}function P(e){const t=document.createElement("div");t.className="shipCount",e.querySelector(".boardUI").append(t);const a=document.createElement("div");a.textContent="Remaining Fleet",a.className="remainingFleet heading",t.append(a);const o=(e,t)=>{const a=document.createElement("div");a.className=`${e}Icon shipIcon`;for(let e=0;e<t;e++){const e=document.createElement("div");e.className="icon",a.append(e)}return a},r=(e,t,a)=>{const r=document.createElement("div");if(r.className=`${e}IconDiv`,!(t>1))return o(e,a);for(let s=0;s<t;s++)r.append(o(e,a));return r},s=r("carrier",1,4),n=r("battleShip",2,3),l=r("destroyer",3,2),c=r("patrolBoat",4,1);t.append(s),t.append(n),t.append(l),t.append(c)}q()})();